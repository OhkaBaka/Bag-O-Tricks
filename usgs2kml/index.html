<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
		<title>Google Maps JavaScript API Example</title>
		<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAvwR4dZG84g_plzGO1oAx9BRFvf734m_1IckaSObe5rel7hil9RR9SqeNV8FaFxAHjh75woIeU0g4vQ"
		type="text/javascript"></script>
		<script type="text/javascript">
		//<![CDATA[
		nowDate = new Date();
		function load() {
			if (GBrowserIsCompatible()) {
				jmap = new GMap2(document.getElementById("map"));
				jmap.addControl(new GLargeMapControl());
				jmap.setCenter(new GLatLng(40, -102), 4);
			}
		}

		function displayState( dispState ){
			if( typeof( statesKML ) != 'undefined' ) jmap.removeOverlay( statesKML );
			statesKML = new GGeoXml("http://www.introprod.com/wsod/usgs2kml/generateKML.cfm?state=" + dispState );
			jmap.addOverlay( statesKML );
		}
		//]]>
		</script>
	</head>
	<body onload="load()" onunload="GUnload()">
		<div id="map" style="width: 800px; height: 500px"></div>
		<div>Choose State To Display:<br />
			<select id="state" name="state" onchange="displayState( this.options[ this.selectedIndex ].value );">
				<option value="AL">Alabama</option>
				<option value="AK">Alaska</option>
				<option value="AZ">Arizona</option>
				<option value="AR">Arkansas</option>
				<option value="CA">California</option>
				<option value="CO">Colorado</option>
				<option value="CT">Connecticut</option>
				<option value="DC">District of Columbia</option>
				<option value="DE">Delaware</option>
				<option value="FL">Florida</option>
				<option value="GA">Georgia</option>
				<option value="HI">Hawaii</option>
				<option value="ID">Idaho</option>
				<option value="IL">Illinois</option>
				<option value="IN">Indiana</option>
				<option value="IA">Iowa</option>
				<option value="KS">Kansas</option>
				<option value="KY">Kentucky</option>
				<option value="ME">Maine</option>
				<option value="MD">Maryland</option>
				<option value="MA">Massachusetts</option>
				<option value="LA">Louisiana</option>
				<option value="MI">Michigan</option>
				<option value="MN">Minnesota</option>
				<option value="MS">Mississippi</option>
				<option value="MO">Missouri</option>
				<option value="MT">Montana</option>
				<option value="NE">Nebraska</option>
				<option value="NV">Nevada</option>
				<option value="NH">New Hampshire</option>
				<option value="NJ">New Jersey</option>
				<option value="NM">New Mexico</option>
				<option value="NY">New York</option>
				<option value="NC">North Carolina</option>
				<option value="ND">North Dakota</option>
				<option value="OH">Ohio</option>
				<option value="OK">Oklahoma</option>
				<option value="OR">Oregon</option>
				<option value="PA">Pennsylvania</option>
				<option value="RI">Rhode Island</option>
				<option value="SC">South Carolina</option>
				<option value="SD">South Dakota</option>
				<option value="TN">Tennessee</option>
				<option value="TX">Texas</option>
				<option value="UT">Utah</option>
				<option value="VT">Vermont</option>
				<option value="VA">Virginia</option>
				<option value="WA">Washington</option>
				<option value="WV">West Virginia</option>
				<option value="WI">Wisconsin</option>
				<option value="WY">Wyoming</option>
			</select>
		</div>
		<div style="width: 800px;">
			<em>Confirmed: During less busy internet times, this doesn't falter at all, the problem is gmaps servers being insufficent (how dare they not be capable of handling my idle tinkering).  Reducing the vertex count on the output KML would still likely help.</em><br />
			<em style="text-decoration:line-through;">
				I noticed recently that the more complex states don't nescessarily work consistently.  Colorado, Wyoming and Utah are all fine, but North Dakota and California are iffy, forget North Carolina or Georgia.  This is new, and I'm passing the request to Google, it is just dying.  I suspect the Web Service might be filtering, or failing to respond fast enough for the API.<br />
				Near as I can tell this is a timeout issue for Google's webservice generating the SVG in time for the API. If it doesn't work at first, try it a bit later.  I expect turning down the precision of the rendered files would make all the difference.<br />
			</em>
		</div>
	</body>
</html>